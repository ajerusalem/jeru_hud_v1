<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeru Hud</title>
    <!--Google Font-->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <!--Font Awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://code.iconify.design/2/2.2.1/iconify.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
</head>

  </div>
    </div>
    </div>
  </div>
  <div class="circle" id="vehicleCircle"></div>
  <div id="hud" class="hud">
    <div style="display:flex; align-items:center;">
    <div style="display: flex; flex-direction: column; flex-wrap: wrap;">
    <div style="display:flex; align-items:center;">
      <i id="icon2" style="font-size: 26px; color: #ffffff;" class="material-icons icon2">gps_fixed</i>
    <div id="location" class="location" style="margin-left: 5px;">
    <b style="font-size:18px; color: #fff;">Vinewood</b>
    <p style="font-size:18px; color: #fff; margin-top: -5px;">West Vinewood</p>
    </div>
    </div>
    <div>
      <svg width="50" height="50" viewBox="0 0 60 60" >
        <path id="health" class="health" d="M 30 5 a 25 25 0 1 0 0.0001 0" fill-opacity="0.5" fill="#80e2a9" stroke-width="2" stroke="#fff"/>
        <span class="iconify" id="rad1" style="position:absolute; margin-left:-9%; margin-top:2.8%; font-size: 26px; color: #ffffff;" data-icon="ant-design:heart-filled" data-width="26" data-height="26"></span>
      </svg>
        <svg width="50" height="50" viewBox="0 0 60 60" >
          <path id="hunger" class="hunger" d="M 30 5 a 25 25 0 1 0 0.0001 0" fill-opacity="0.5" fill="#80e2a9" stroke-width="2" stroke="#fff"/>
          <span class="iconify" id="rad2" style="position:absolute; margin-left:-9%; margin-top:2.8%; font-size: 26px; color: #ffffff;" data-icon="fluent:food-chicken-leg-24-filled" data-width="26" data-height="26"></span>
        </svg>
          <svg width="50" height="50" viewBox="0 0 60 60" >
            <path id="thirst" class="thirst" d="M 30 5 a 25 25 0 1 0 0.0001 0" fill-opacity="0.5" fill="#80e2a9" stroke-width="2" stroke="#fff"/>
            <span class="iconify" id="rad3" style="position:absolute; margin-left:-9%; margin-top:2.8%; font-size: 26px; color: #ffffff;" data-icon="fa6-solid:bottle-water" data-width="26" data-height="26"></span>
          </svg>
            <svg id="armourtog" class="armourtog" width="50" height="50" viewBox="0 0 60 60" >
              <path id="armour" class="armour" d="M 30 5 a 25 25 0 1 0 0.0001 0" fill-opacity="0.5" fill="#80e2a9" stroke-width="2" stroke="#fff"/>
              <span class="iconify" id="rad4" style="position:absolute; margin-left:-9%; margin-top:2.8%; font-size: 26px; color: #ffffff;" data-icon="bxs:shield" data-width="26" data-height="26"></span>
            </svg>



  <svg width="100%" style="margin-right:12px; margin-bottom:-55px;" viewBox="0 0 240 340">
    <path id="speed" class="speed" fill-opacity="0" stroke-width="3.0" stroke="#fff" d="M 100 300 C 100 300 100 250 150 250 C 250 250 250 250 250 250"/>
  <div id="status" class="status" style="width:30px;">

<script src="https://cdnjs.cloudflare.com/ajax/libs/progressbar.js/0.6.1/progressbar.js"></script>
<script>
  var uiColor = "#fff";
  var accentColor = "#80e2a9";
  var vcAnim = 1;
  var lastFuel = 0;
  var svgPath = document.getElementById('speed');
var path = new ProgressBar.Path(svgPath, {
duration: 300
});
var healthPath = document.getElementById('health');
var health = new ProgressBar.Path(healthPath, {
duration: 300
});
var hungerPath = document.getElementById('hunger');
var hunger = new ProgressBar.Path(hungerPath, {
duration: 300
});
var thirstPath = document.getElementById('thirst');
var thirst = new ProgressBar.Path(thirstPath, {
duration: 300
});
var armourPath = document.getElementById('armour');
var armour = new ProgressBar.Path(armourPath, {
duration: 300
});
setInterval('animVC()', 300);
function animVC(){
    $('#vcicon').each(function(i, obj) {
      if ($(obj).is(":visible")){
        if (vcAnim == 0) {
          $(obj).attr("data-icon", "emojione-monotone:speaker-low-volume");
          vcAnim = 1;
        }else if (vcAnim == 1){
          $(obj).attr("data-icon", "emojione-monotone:speaker-medium-volume");
          vcAnim = 2;
        }else{
          $(obj).attr("data-icon", "emojione-monotone:speaker-high-volume");
          vcAnim = 0;
        }
      }
  });
}
  window.addEventListener('message', (event) => {
    if (event.data.action === 'show') {
        document.getElementsByTagName("BODY")[0].style.display = "block";
    }else if (event.data.action === 'hide') {
        document.getElementsByTagName("BODY")[0].style.display = "none";
    }else if (event.data.action === 'notify') {
      if (event.data.type === 'success'){
        let icon = "check_circle";
        if (event.data.icon != null) {
          icon = event.data.icon;
        }
      }
    }
else if (event.data.action === 'color'){
      uiColor = event.data.main
      accentColor = event.data.accent
      $("#speedbg").css({stroke: accentColor});
      $("#speed").css({stroke: uiColor});
      $("#icon1").css({color: uiColor});
      $("#icon2").css({color: uiColor});
      $("#health").attr("fill", accentColor);
      $("#health").attr("stroke", uiColor);
      $("#rad1").css({color: uiColor});
      $("#hunger").attr("fill", accentColor);
      $("#hunger").attr("stroke", uiColor);
      $("#rad2").css({color: uiColor});
      $("#thirst").attr("fill", accentColor);
      $("#thirst").attr("stroke", uiColor);
      $("#rad3").css({color: uiColor});
      $("#armour").attr("fill", accentColor);
      $("#armour").attr("stroke", uiColor);
      $("#rad4").css({color: uiColor});
    }else if (event.data.action === 'update'){
      health.animate(event.data.health);
      hunger.animate(event.data.hunger);
      thirst.animate(event.data.thirst);
        if (event.data.armour > 0){
          $("#armourtog").fadeIn();
            $("#rad4").fadeIn();
          armour.animate(event.data.armour);
        }else{
          $("#armourtog").fadeOut();
            $("#rad4").fadeOut();
        }
      if (event.data.postal == false) {
      $("#location").html('<b style="font-size:18px; color: '+uiColor+';">'+event.data.zone+'</b><p style="font-size:16px; color: '+uiColor+'; margin-top: -5px;">'+event.data.street+' '+event.data.heading+'</p>');
      }else{
      $("#location").html('<b style="font-size:18px; color: '+uiColor+';">'+event.data.zone+' ['+event.data.postal+']</b><p style="font-size:16px; color: '+uiColor+'; margin-top: -5px;">'+event.data.street+' '+event.data.heading+'</p>');
      }
      if (event.data.id != false){
        $("#info").show();
        $("#info").html('<div style="display:flex; align-items:center; float: right; justify-content: center; text-align: center;"><div style="align-items: center; justify-content: center; text-align: center;"><div style="display:flex; align-items:center; margin-right:20px; text-align: center; justify-content: center; opacity: 0.8;"><b style="font-size:18px; color: '+uiColor+'; font-family: \'Poppins\', sans-serif; margin-right:5px;">ID: </b><p style="font-size:18px; color: '+uiColor+'; margin-right: 20px; font-family: \'Poppins\', sans-serif;">'+event.data.id+'</p><i style="font-size: 18px; color: '+uiColor+'; margin-right:5px;" class="material-icons">wifi</i><p style="font-family: \'Poppins\', sans-serif; font-size:18px; color: '+uiColor+';">'+event.data.online+'</p></div><p style="text-align: center; font-size:18px; font-weight:100; opacity: 0.5; color: '+uiColor+'; margin-top: -2px; font-family: \'Poppins\', sans-serif;">'+event.data.servername+'</p></div><img style="margin-left: 10px; min-width: 45px; max-width:50px; opacity: 0.9;" src="'+event.data.logo+'"/></div>');
        }
      if (event.data.priority){
        if ((event.data.pnotes == "" || event.data.pnotes == null) && (event.data.priority != "Cooldown")){
          $("#time").html('<b style="font-size:18px; color: '+uiColor+';">Priority</b><p style="font-size:16px; color: '+uiColor+'; margin-top: -5px;">'+event.data.priority+'</p>');
        }else if (event.data.priority == "Cooldown"){
          $("#time").html('<b style="font-size:18px; color: '+uiColor+';">Priority</b><p style="font-size:16px; color: '+uiColor+'; margin-top: -5px;">'+event.data.priority+' ('+event.data.cooldown+'m)</p>');
        }else{
          $("#time").html('<b style="font-size:18px; color: '+uiColor+';">Priority</b><p style="font-size:16px; color: '+uiColor+'; margin-top: -5px;">'+event.data.priority+' ('+event.data.pnotes+')</p>');
        }
      }else{
        $("#time").html('<b style="font-size:18px; color: '+uiColor+';">'+event.data.time+'</b><p style="font-size:16px; color: '+uiColor+'; margin-top: -5px;">'+event.data.date+'</p>');
      }
    }
});

window.addEventListener("message", function(event) {
  if (event.data.action === "setHudVehicle") {
      let hud = document.getElementById("hud");

      if (event.data.inVehicle) {
          hud.classList.remove("hud-move-left"); // Araçtayken sabit kalsın
      } else {
          hud.classList.add("hud-move-left"); // Araçtan inince sola kaydır
      }
  }
});

window.addEventListener('message', function(event) {
  if (event.data.action == 'showCircle') {
      document.getElementById('vehicleCircle').style.display = 'block'; // Daireyi göster
  } else if (event.data.action == 'hideCircle') {
      document.getElementById('vehicleCircle').style.display = 'none'; // Daireyi gizle
  }
});



</script>
